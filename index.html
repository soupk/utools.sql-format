<!DOCTYPE html>
<html lang="en">

<head>
    <title>SQL-Format</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords" content="" />
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="stylesheet" href="css/style4.css">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
	<link rel="stylesheet" href="./styles/arduino-light.css">
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/sql-formatter.min.js"></script>
</head>

<body>
    <div class="wrapper">
        <!-- Page Content Holder -->
        <div id="content">
            <!-- Forms content -->
            <section class="forms-section">
                <div class="container-fluid">
                    <div class="row">
                        <div class="outer-w3-agile col-xl mt-3 mr-xl-3">
                            <h4 class="tittle-w3-agileits mb-4">SQL</h4>
                            <form action="#" method="post">
                                <div class="form-group">
                                    <textarea class="form-control"  name="edit" cols="100" rows="10" id="edit" rows="12" required=""></textarea>
                                </div>                             
                                <div class="form-group row">
                                    <div class="col-sm-10">
                                        <button type="button" id="btn_format" class="btn btn-primary">Format</button>
										<button type="button" id="Copy" class="btn btn-primary">Copy-Format</button>
										<button type="button" id="Clear" class="btn btn-primary">Clear</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="outer-w3-agile col-xl mt-3">
                            <h4 class="tittle-w3-agileits mb-4">Format</h4>
                            <form action="#" method="post">
                                <div class="form-group" id="code_area" style="font-size:1em;display:none">
									<pre>
										<code id="code" style="border-radius:5px;"></code>
									</pre>
                                </div>
								<div class="form-group" id="code_area_temp" style="font-size:1em">
                                    <textarea class="form-control" rows="12" required=""></textarea>
                                </div>
								<div class="form-group row">
									<div class="form-group" id="code_area_temp" style="width:20%;width:6%;padding-left: 2.5%;padding-top: 1%;margin-right: 2.5%;">
										Skin
									</div>
									<div class="form-group" id="code_area_temp" style="width:20%">
										<select class="custom-select d-block w-100" id="Skin" required="">
											<option value="">Choose...</option>
											<option value="a11y-dark">a11y-dark</option>
											<option value="a11y-light">a11y-light</option>
											<option value="agate">agate</option>
											<option value="an-old-hope">an-old-hope</option>
											<option value="androidstudio">androidstudio</option>
											<option value="arduino-light">arduino-light</option>
											<option value="arta">arta</option>
											<option value="ascetic">ascetic</option>
											<option value="atelier-cave-dark">atelier-cave-dark</option>
											<option value="atelier-cave-light">atelier-cave-light</option>
											<option value="atelier-dune-dark">atelier-dune-dark</option>
											<option value="atelier-dune-light">atelier-dune-light</option>
											<option value="atelier-estuary-dark">atelier-estuary-dark</option>
											<option value="atelier-estuary-light">atelier-estuary-light</option>
											<option value="atelier-forest-dark">atelier-forest-dark</option>
											<option value="atelier-forest-light">atelier-forest-light</option>
											<option value="atelier-heath-dark">atelier-heath-dark</option>
											<option value="atelier-heath-light">atelier-heath-light</option>
											<option value="atelier-lakeside-dark">atelier-lakeside-dark</option>
											<option value="atelier-lakeside-light">atelier-lakeside-light</option>
											<option value="atelier-plateau-dark">atelier-plateau-dark</option>
											<option value="atelier-plateau-light">atelier-plateau-light</option>
											<option value="atelier-savanna-dark">atelier-savanna-dark</option>
											<option value="atelier-savanna-light">atelier-savanna-light</option>
											<option value="atelier-seaside-dark">atelier-seaside-dark</option>
											<option value="atelier-seaside-light">atelier-seaside-light</option>
											<option value="atelier-sulphurpool-dark">atelier-sulphurpool-dark</option>
											<option value="atelier-sulphurpool-light">atelier-sulphurpool-light</option>
											<option value="atom-one-dark-reasonable">atom-one-dark-reasonable</option>
											<option value="atom-one-dark">atom-one-dark</option>
											<option value="atom-one-light">atom-one-light</option>
											<option value="brown-paper">brown-paper</option>
											<option value="codepen-embed">codepen-embed</option>
											<option value="color-brewer">color-brewer</option>
											<option value="darcula">darcula</option>
											<option value="dark">dark</option>
											<option value="darkula">darkula</option>
											<option value="default">default</option>
											<option value="docco">docco</option>
											<option value="dracula">dracula</option>
											<option value="far">far</option>
											<option value="foundation">foundation</option>
											<option value="github-gist">github-gist</option>
											<option value="github">github</option>
											<option value="gml">gml</option>
											<option value="googlecode">googlecode</option>
											<option value="grayscale">grayscale</option>
											<option value="gruvbox-dark">gruvbox-dark</option>
											<option value="gruvbox-light">gruvbox-light</option>
											<option value="hopscotch">hopscotch</option>
											<option value="hybrid">hybrid</option>
											<option value="idea">idea</option>
											<option value="ir-black">ir-black</option>
											<option value="isbl-editor-dark">isbl-editor-dark</option>
											<option value="isbl-editor-light">isbl-editor-light</option>
											<option value="kimbie.dark">kimbie.dark</option>
											<option value="kimbie.light">kimbie.light</option>
											<option value="lightfair">lightfair</option>
											<option value="magula">magula</option>
											<option value="mono-blue">mono-blue</option>
											<option value="monokai-sublime">monokai-sublime</option>
											<option value="monokai">monokai</option>
											<option value="nord">nord</option>
											<option value="obsidian">obsidian</option>
											<option value="ocean">ocean</option>
											<option value="paraiso-dark">paraiso-dark</option>
											<option value="paraiso-light">paraiso-light</option>
											<option value="pojoaque">pojoaque</option>
											<option value="purebasic">purebasic</option>
											<option value="qtcreator_dark">qtcreator_dark</option>
											<option value="qtcreator_light">qtcreator_light</option>
											<option value="railscasts">railscasts</option>
											<option value="rainbow">rainbow</option>
											<option value="routeros">routeros</option>
											<option value="shades-of-purple">shades-of-purple</option>
											<option value="solarized-dark">solarized-dark</option>
											<option value="solarized-light">solarized-light</option>
											<option value="sunburst">sunburst</option>
											<option value="tomorrow-night-blue">tomorrow-night-blue</option>
											<option value="tomorrow-night-bright">tomorrow-night-bright</option>
											<option value="tomorrow-night-eighties">tomorrow-night-eighties</option>
											<option value="tomorrow-night">tomorrow-night</option>
											<option value="tomorrow">tomorrow</option>
											<option value="vs">vs</option>
											<option value="vs2015">vs2015</option>
											<option value="xcode">xcode</option>
											<option value="xt256">xt256</option>
											<option value="zenburn">zenburn</option>
										</select>
									</div>
                                    <div class="col-sm-1">
										<button type="button" id="change_skin" class="btn btn-primary">OK</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>


    <!-- Required common Js -->
    <script src='js/jquery-2.2.3.min.js'></script>
    <!-- //Required common Js -->

    <!-- Validation Script -->
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');

                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
    <!--// Validation Script -->

    <!-- dropdown nav -->
    <script>
        $(document).ready(function () {
            $(".dropdown").hover(
                function () {
                    $('.dropdown-menu', this).stop(true, true).slideDown("fast");
                    $(this).toggleClass('open');
                },
                function () {
                    $('.dropdown-menu', this).stop(true, true).slideUp("fast");
                    $(this).toggleClass('open');
                }
            );
        });
		
		$(function () {
            $("#btn_format").click(function () {
                var sql = $("#edit").val();
				if (!sql || sql == "Enter the SQL you want to format !") {
					$("#edit").val("Enter the SQL you want to format !");
					$("#edit").attr("style", "color:red");
				} else {
					console.log("source: ", sql);
					var format_sql = sqlFormatter.format(sql);
					console.log("formated: ", format_sql);

					$("#code").html(format_sql);
					$("#code_area").attr("style", "font-size:1.2em;");
					$("#code_area_temp").attr("style", "display:none");

					document.querySelectorAll('pre code').forEach((block) => {
						hljs.highlightBlock(block);
					});
				}
            });
        });  
		
		function loadTheme(theme){
			var link = document.createElement('link');
			link.type = 'text/css';
			link.rel = 'stylesheet';
			if(theme)
				link.href = './styles/'+theme+'.css';
			else
				link.href = './styles/arduino-light.css';
			var head = document.getElementsByTagName('head')[0];
			head.appendChild(link);
		}
		
		$(function () {
			$("#Copy").click(function() {
				var sql = $("#edit").val();
                var format_sql = sqlFormatter.format(sql);
				copyText(format_sql);
			})
		});
		
		function copyText(text) {
			var textarea = document.createElement("textarea");
			var currentFocus = document.activeElement;
			document.body.appendChild(textarea);
			textarea.value = text;
			textarea.focus();
			if(textarea.setSelectionRange)
				textarea.setSelectionRange(0, textarea.value.length);
			else
				textarea.select();
			try {
				var flag = document.execCommand("copy");
			} catch(eo) {
				var flag = false;
			}
			document.body.removeChild(textarea);
			currentFocus.focus();
			return flag;
		}
		
		$(function () {
			$("#Clear").click(function() {
				$("#code_area_temp").attr("style", "font-size:1.2em;");
				$("#code_area").attr("style", "display:none");
			})
		});
		
		$(function () {
			$("#change_skin").click(function() {
				var theme = $("#Skin").val();
				loadTheme(theme);
			})
		});
		
		$(function () {
			$("#edit").focus(function(){
				if (!$("#edit").val() || $("#edit").val() == "Enter the SQL you want to format !") {
				  $("#edit").val("");
				  $("#edit").attr("style", "");
				}
			});
		});
    </script>
    <!-- //dropdown nav -->

    <!-- Js for bootstrap working-->
    <script src="js/bootstrap.min.js"></script>
    <!-- //Js for bootstrap working -->

</body>
</html>